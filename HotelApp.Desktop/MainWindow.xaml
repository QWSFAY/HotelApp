<Window x:Class="HotelApp.Desktop.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:HotelApp.Desktop"
        mc:Ignorable="d"
        Title="客户入住查询" 
        Height="580" 
        Width="920"
        WindowStartupLocation="CenterScreen"
        Background="#F8FAFC"
        FontFamily="Segoe UI"
        FontSize="16">

    <Window.Resources>
        <!-- 標籤 -->
        <Style x:Key="LabelText" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#64748B"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="TextAlignment" Value="Right"/>
            <Setter Property="Margin" Value="0,6,16,6"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="15"/>
        </Style>

        <!-- 值 -->
        <Style x:Key="ValueText" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="#1E293B"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="15"/>
        </Style>

        <!-- 修改後的按鈕樣式（綠色主題，取消 hover 縮放） -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="17"/>
            <Setter Property="Padding" Value="28,14"/>
            <Setter Property="MinWidth" Value="120"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                CornerRadius="12"
                                BorderThickness="0">
                            <Border.Effect>
                                <DropShadowEffect Color="#000000" Direction="315" ShadowDepth="3" BlurRadius="10" Opacity="0.25"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#34D399" Offset="0"/>
                                            <GradientStop Color="#10B981" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <!-- 保留陰影變化，但不放大 -->
                                <Setter TargetName="Bd" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#10B981" Direction="315" ShadowDepth="5" BlurRadius="14" Opacity="0.35"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#059669"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <!-- 預設背景：綠色漸變 -->
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="#10B981" Offset="0"/>
                        <GradientStop Color="#059669" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 搜尋框樣式 -->
        <Style x:Key="SearchTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="14,10"/>
            <Setter Property="FontSize" Value="17"/>
            <Setter Property="BorderBrush" Value="#CBD5E1"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ListBoxItem 卡片（取消 hover 抬升，只保留輕微顏色變化） -->
        <Style TargetType="ListBoxItem">
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0,12,0,12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border x:Name="CardBorder"
                                Background="White"
                                CornerRadius="16"
                                BorderBrush="#E2E8F0"
                                BorderThickness="1"
                                Margin="12,0">
                            <Border.Effect>
                                <DropShadowEffect Color="Black" Direction="315" ShadowDepth="4" BlurRadius="16" Opacity="0.15"/>
                            </Border.Effect>
                            <ContentPresenter Margin="20,24,20,24"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="CardBorder" Property="Background" Value="#F8FAFC"/>
                                <Setter TargetName="CardBorder" Property="BorderBrush" Value="#CBD5E1"/>
                                <!-- 保留陰影變化，但不放大 -->
                                <Setter TargetName="CardBorder" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="Black" Direction="315" ShadowDepth="6" BlurRadius="20" Opacity="0.22"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="CardBorder" Property="BorderBrush" Value="#10B981"/>
                                <Setter TargetName="CardBorder" Property="BorderThickness" Value="2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="40">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 標題 -->
        <TextBlock Grid.Row="0"
                   Text="客戶入住查詢"
                   FontSize="38"
                   FontWeight="Bold"
                   Foreground="#0F172A"
                   Margin="0,0,0,32"
                   TextAlignment="Left"/>

        <!-- 搜尋區域 -->
        <Border Grid.Row="1"
                Background="White"
                CornerRadius="16"
                Padding="28"
                Margin="0,0,0,32"
                BorderBrush="#E2E8F0"
                BorderThickness="1">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="315" ShadowDepth="3" BlurRadius="12" Opacity="0.12"/>
            </Border.Effect>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <TextBlock Text="姓氏："
                           FontWeight="SemiBold"
                           FontSize="18"
                           VerticalAlignment="Center"
                           Margin="0,0,16,0"
                           Foreground="#475569"/>
                <TextBox x:Name="lastNameText" 
                         MinWidth="320"
                         Style="{StaticResource SearchTextBox}"
                         Margin="0,0,24,0"/>
                <Button x:Name="searchForGuest"
                        Style="{StaticResource ModernButtonStyle}"
                        Click="searchForGuest_Click">
                    搜尋
                </Button>
            </StackPanel>
        </Border>

        <!-- 結果列表（其他部分保持不變） -->
        <ListBox x:Name="resultsList"
                 Grid.Row="2"
                 Background="Transparent"
                 BorderThickness="0"
                 ScrollViewer.VerticalScrollBarVisibility="Auto"
                 ItemsSource="{Binding}">

            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="预定人：" Style="{StaticResource LabelText}"/>
                                <TextBlock Text="{Binding FirstName}" Style="{StaticResource ValueText}"/>
                                <TextBlock Text=" " Style="{StaticResource ValueText}"/>
                                <TextBlock Text="{Binding LastName}" Style="{StaticResource ValueText}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="房型：" Style="{StaticResource LabelText}"/>
                                <TextBlock Text="{Binding Title}" Style="{StaticResource ValueText}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="房号：" Style="{StaticResource LabelText}"/>
                                <TextBlock Text="{Binding RoomNumber}" Style="{StaticResource ValueText}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="总金额：" Style="{StaticResource LabelText}"/>
                                <TextBlock Text="{Binding TotalCost, StringFormat='¥{0:N0}'}" 
                                           FontWeight="Bold"
                                           FontSize="20"
                                           Foreground="#EF4444"/>
                            </StackPanel>
                        </StackPanel>

                        <Button Grid.Column="1"
                                Style="{StaticResource ModernButtonStyle}"
                                VerticalAlignment="Center"
                                Padding="32,16"
                                Click="CheckInButton_Click">
                            立即入住
                        </Button>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window>